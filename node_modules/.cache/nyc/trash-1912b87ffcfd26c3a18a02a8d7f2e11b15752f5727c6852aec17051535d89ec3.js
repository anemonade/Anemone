function cov_11c5mfj1kr(){var path="C:\\Users\\Ronald\\Desktop\\UNSW\\Y2T1\\SENG2021\\Anemone\\src\\main\\server\\trash.js";var hash="2c333c650968f899e6c0057b1dcc5e6b9e2e13a7";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Ronald\\Desktop\\UNSW\\Y2T1\\SENG2021\\Anemone\\src\\main\\server\\trash.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:35}},"1":{start:{line:2,column:13},end:{line:2,column:33}},"2":{start:{line:5,column:28},end:{line:5,column:52}},"3":{start:{line:6,column:4},end:{line:14,column:5}},"4":{start:{line:7,column:8},end:{line:13,column:10}},"5":{start:{line:16,column:21},end:{line:16,column:43}},"6":{start:{line:20,column:19},end:{line:20,column:89}},"7":{start:{line:20,column:46},end:{line:20,column:88}},"8":{start:{line:21,column:4},end:{line:26,column:7}},"9":{start:{line:23,column:35},end:{line:23,column:38}},"10":{start:{line:24,column:8},end:{line:24,column:25}},"11":{start:{line:25,column:8},end:{line:25,column:20}},"12":{start:{line:28,column:4},end:{line:34,column:6}},"13":{start:{line:37,column:0},end:{line:37,column:36}}},fnMap:{"0":{name:"listTrashItems",decl:{start:{line:4,column:9},end:{line:4,column:23}},loc:{start:{line:4,column:31},end:{line:35,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:20,column:35},end:{line:20,column:36}},loc:{start:{line:20,column:46},end:{line:20,column:88}},line:20},"2":{name:"(anonymous_2)",decl:{start:{line:21,column:28},end:{line:21,column:29}},loc:{start:{line:21,column:35},end:{line:26,column:5}},line:21}},branchMap:{"0":{loc:{start:{line:6,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:14,column:5}},{start:{line:6,column:4},end:{line:14,column:5}}],line:6}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2c333c650968f899e6c0057b1dcc5e6b9e2e13a7"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_11c5mfj1kr=function(){return actualCoverage;};}return actualCoverage;}cov_11c5mfj1kr();const other=(cov_11c5mfj1kr().s[0]++,require("./other.js"));const auth=(cov_11c5mfj1kr().s[1]++,require("./auth.js"));function listTrashItems(token){cov_11c5mfj1kr().f[0]++;const tokenValidation=(cov_11c5mfj1kr().s[2]++,auth.tokenIsValid(token));cov_11c5mfj1kr().s[3]++;if(!tokenValidation.valid){cov_11c5mfj1kr().b[0][0]++;cov_11c5mfj1kr().s[4]++;return{code:401,ret:{success:false,error:"Token is empty or invalid"}};}else{cov_11c5mfj1kr().b[0][1]++;}const jsonData=(cov_11c5mfj1kr().s[5]++,other.getInvoiceData());// This is assuming that the invoices are appended to the end of the JSON array as
// they get deleted so that the invoices array can be returned in the correct order
let invoices=(cov_11c5mfj1kr().s[6]++,jsonData.filter(invoice=>{cov_11c5mfj1kr().f[1]++;cov_11c5mfj1kr().s[7]++;return invoice.owner===tokenValidation.username;}));cov_11c5mfj1kr().s[8]++;invoices=invoices.map(obj=>{cov_11c5mfj1kr().f[2]++;// Remove owner from the array
const{owner,...rest}=(cov_11c5mfj1kr().s[9]++,obj);cov_11c5mfj1kr().s[10]++;other.foo(owner);cov_11c5mfj1kr().s[11]++;return rest;});cov_11c5mfj1kr().s[12]++;return{code:200,ret:{success:true,invoices:invoices}};}cov_11c5mfj1kr().s[13]++;module.exports={listTrashItems};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTFjNW1majFrciIsImFjdHVhbENvdmVyYWdlIiwib3RoZXIiLCJzIiwicmVxdWlyZSIsImF1dGgiLCJsaXN0VHJhc2hJdGVtcyIsInRva2VuIiwiZiIsInRva2VuVmFsaWRhdGlvbiIsInRva2VuSXNWYWxpZCIsInZhbGlkIiwiYiIsImNvZGUiLCJyZXQiLCJzdWNjZXNzIiwiZXJyb3IiLCJqc29uRGF0YSIsImdldEludm9pY2VEYXRhIiwiaW52b2ljZXMiLCJmaWx0ZXIiLCJpbnZvaWNlIiwib3duZXIiLCJ1c2VybmFtZSIsIm1hcCIsIm9iaiIsInJlc3QiLCJmb28iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsidHJhc2guanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgb3RoZXIgPSByZXF1aXJlKFwiLi9vdGhlci5qc1wiKTtcclxuY29uc3QgYXV0aCA9IHJlcXVpcmUoXCIuL2F1dGguanNcIik7XHJcblxyXG5mdW5jdGlvbiBsaXN0VHJhc2hJdGVtcyh0b2tlbikge1xyXG4gICAgY29uc3QgdG9rZW5WYWxpZGF0aW9uID0gYXV0aC50b2tlbklzVmFsaWQodG9rZW4pO1xyXG4gICAgaWYgKCF0b2tlblZhbGlkYXRpb24udmFsaWQpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjb2RlOiA0MDEsXHJcbiAgICAgICAgICAgIHJldDoge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogXCJUb2tlbiBpcyBlbXB0eSBvciBpbnZhbGlkXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QganNvbkRhdGEgPSBvdGhlci5nZXRJbnZvaWNlRGF0YSgpO1xyXG5cclxuICAgIC8vIFRoaXMgaXMgYXNzdW1pbmcgdGhhdCB0aGUgaW52b2ljZXMgYXJlIGFwcGVuZGVkIHRvIHRoZSBlbmQgb2YgdGhlIEpTT04gYXJyYXkgYXNcclxuICAgIC8vIHRoZXkgZ2V0IGRlbGV0ZWQgc28gdGhhdCB0aGUgaW52b2ljZXMgYXJyYXkgY2FuIGJlIHJldHVybmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyXHJcbiAgICBsZXQgaW52b2ljZXMgPSBqc29uRGF0YS5maWx0ZXIoaW52b2ljZSA9PiBpbnZvaWNlLm93bmVyID09PSB0b2tlblZhbGlkYXRpb24udXNlcm5hbWUpO1xyXG4gICAgaW52b2ljZXMgPSBpbnZvaWNlcy5tYXAob2JqID0+IHtcclxuICAgICAgICAvLyBSZW1vdmUgb3duZXIgZnJvbSB0aGUgYXJyYXlcclxuICAgICAgICBjb25zdCB7IG93bmVyLCAuLi5yZXN0IH0gPSBvYmo7XHJcbiAgICAgICAgb3RoZXIuZm9vKG93bmVyKTtcclxuICAgICAgICByZXR1cm4gcmVzdDtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgIHJldDoge1xyXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICBpbnZvaWNlczogaW52b2ljZXNcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgbGlzdFRyYXNoSXRlbXMgfTtcclxuIl0sIm1hcHBpbmdzIjoiNG5FQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLEtBQU0sQ0FBQUUsS0FBSyxFQUFBRixjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUNuQyxLQUFNLENBQUFDLElBQUksRUFBQUwsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxXQUFXLENBQUMsRUFFakMsUUFBUyxDQUFBRSxjQUFjQSxDQUFDQyxLQUFLLENBQUUsQ0FBQVAsY0FBQSxHQUFBUSxDQUFBLE1BQzNCLEtBQU0sQ0FBQUMsZUFBZSxFQUFBVCxjQUFBLEdBQUFHLENBQUEsTUFBR0UsSUFBSSxDQUFDSyxZQUFZLENBQUNILEtBQUssQ0FBQyxFQUFDUCxjQUFBLEdBQUFHLENBQUEsTUFDakQsR0FBSSxDQUFDTSxlQUFlLENBQUNFLEtBQUssQ0FBRSxDQUFBWCxjQUFBLEdBQUFZLENBQUEsU0FBQVosY0FBQSxHQUFBRyxDQUFBLE1BQ3hCLE1BQU8sQ0FDSFUsSUFBSSxDQUFFLEdBQUcsQ0FDVEMsR0FBRyxDQUFFLENBQ0RDLE9BQU8sQ0FBRSxLQUFLLENBQ2RDLEtBQUssQ0FBRSwyQkFDWCxDQUNKLENBQUMsQ0FDTCxDQUFDLEtBQUFoQixjQUFBLEdBQUFZLENBQUEsVUFFRCxLQUFNLENBQUFLLFFBQVEsRUFBQWpCLGNBQUEsR0FBQUcsQ0FBQSxNQUFHRCxLQUFLLENBQUNnQixjQUFjLENBQUMsQ0FBQyxFQUV2QztBQUNBO0FBQ0EsR0FBSSxDQUFBQyxRQUFRLEVBQUFuQixjQUFBLEdBQUFHLENBQUEsTUFBR2MsUUFBUSxDQUFDRyxNQUFNLENBQUNDLE9BQU8sRUFBSSxDQUFBckIsY0FBQSxHQUFBUSxDQUFBLE1BQUFSLGNBQUEsR0FBQUcsQ0FBQSxhQUFBa0IsT0FBTyxDQUFDQyxLQUFLLEdBQUtiLGVBQWUsQ0FBQ2MsUUFBUSxDQUFELENBQUMsQ0FBQyxFQUFDdkIsY0FBQSxHQUFBRyxDQUFBLE1BQ3RGZ0IsUUFBUSxDQUFHQSxRQUFRLENBQUNLLEdBQUcsQ0FBQ0MsR0FBRyxFQUFJLENBQUF6QixjQUFBLEdBQUFRLENBQUEsTUFDM0I7QUFDQSxLQUFNLENBQUVjLEtBQUssQ0FBRSxHQUFHSSxJQUFLLENBQUMsRUFBQTFCLGNBQUEsR0FBQUcsQ0FBQSxNQUFHc0IsR0FBRyxFQUFDekIsY0FBQSxHQUFBRyxDQUFBLE9BQy9CRCxLQUFLLENBQUN5QixHQUFHLENBQUNMLEtBQUssQ0FBQyxDQUFDdEIsY0FBQSxHQUFBRyxDQUFBLE9BQ2pCLE1BQU8sQ0FBQXVCLElBQUksQ0FDZixDQUFDLENBQUMsQ0FBQzFCLGNBQUEsR0FBQUcsQ0FBQSxPQUVILE1BQU8sQ0FDSFUsSUFBSSxDQUFFLEdBQUcsQ0FDVEMsR0FBRyxDQUFFLENBQ0RDLE9BQU8sQ0FBRSxJQUFJLENBQ2JJLFFBQVEsQ0FBRUEsUUFDZCxDQUNKLENBQUMsQ0FDTCxDQUFDbkIsY0FBQSxHQUFBRyxDQUFBLE9BRUR5QixNQUFNLENBQUNDLE9BQU8sQ0FBRyxDQUFFdkIsY0FBZSxDQUFDIiwiaWdub3JlTGlzdCI6W119