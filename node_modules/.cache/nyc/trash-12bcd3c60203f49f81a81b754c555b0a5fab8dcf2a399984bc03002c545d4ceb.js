function cov_11c5mfj1kr(){var path="C:\\Users\\Ronald\\Desktop\\UNSW\\Y2T1\\SENG2021\\Anemone\\src\\main\\server\\trash.js";var hash="32c69c52aee911370a2e2377d87757861017d05c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Ronald\\Desktop\\UNSW\\Y2T1\\SENG2021\\Anemone\\src\\main\\server\\trash.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:35}},"1":{start:{line:2,column:13},end:{line:2,column:33}},"2":{start:{line:5,column:28},end:{line:5,column:52}},"3":{start:{line:6,column:4},end:{line:14,column:5}},"4":{start:{line:7,column:8},end:{line:13,column:10}},"5":{start:{line:16,column:21},end:{line:16,column:43}},"6":{start:{line:18,column:4},end:{line:24,column:6}},"7":{start:{line:28,column:19},end:{line:28,column:89}},"8":{start:{line:28,column:46},end:{line:28,column:88}},"9":{start:{line:29,column:4},end:{line:37,column:5}},"10":{start:{line:30,column:8},end:{line:36,column:10}},"11":{start:{line:41,column:4},end:{line:46,column:7}},"12":{start:{line:43,column:35},end:{line:43,column:38}},"13":{start:{line:44,column:8},end:{line:44,column:25}},"14":{start:{line:45,column:8},end:{line:45,column:20}},"15":{start:{line:48,column:4},end:{line:54,column:6}},"16":{start:{line:57,column:0},end:{line:57,column:36}}},fnMap:{"0":{name:"listTrashItems",decl:{start:{line:4,column:9},end:{line:4,column:23}},loc:{start:{line:4,column:31},end:{line:55,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:28,column:35},end:{line:28,column:36}},loc:{start:{line:28,column:46},end:{line:28,column:88}},line:28},"2":{name:"(anonymous_2)",decl:{start:{line:41,column:28},end:{line:41,column:29}},loc:{start:{line:41,column:35},end:{line:46,column:5}},line:41}},branchMap:{"0":{loc:{start:{line:6,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:14,column:5}},{start:{line:6,column:4},end:{line:14,column:5}}],line:6},"1":{loc:{start:{line:29,column:4},end:{line:37,column:5}},type:"if",locations:[{start:{line:29,column:4},end:{line:37,column:5}},{start:{line:29,column:4},end:{line:37,column:5}}],line:29}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"32c69c52aee911370a2e2377d87757861017d05c"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_11c5mfj1kr=function(){return actualCoverage;};}return actualCoverage;}cov_11c5mfj1kr();const other=(cov_11c5mfj1kr().s[0]++,require("./other.js"));const auth=(cov_11c5mfj1kr().s[1]++,require("./auth.js"));function listTrashItems(token){cov_11c5mfj1kr().f[0]++;const tokenValidation=(cov_11c5mfj1kr().s[2]++,auth.tokenIsValid(token));cov_11c5mfj1kr().s[3]++;if(!tokenValidation.valid){cov_11c5mfj1kr().b[0][0]++;cov_11c5mfj1kr().s[4]++;return{code:401,ret:{success:false,error:"Token is empty or invalid"}};}else{cov_11c5mfj1kr().b[0][1]++;}const jsonData=(cov_11c5mfj1kr().s[5]++,other.getInvoiceData());cov_11c5mfj1kr().s[6]++;return{code:200,ret:{success:true,invoices:[]}};// This is assuming that the invoices are appended to the end of the JSON array as
// they get deleted so that the invoices array can be returned in the correct order
let invoices=(cov_11c5mfj1kr().s[7]++,jsonData.filter(invoice=>{cov_11c5mfj1kr().f[1]++;cov_11c5mfj1kr().s[8]++;return invoice.owner===tokenValidation.username;}));cov_11c5mfj1kr().s[9]++;if(invoices.length()==0){cov_11c5mfj1kr().b[1][0]++;cov_11c5mfj1kr().s[10]++;return{code:200,ret:{success:true,invoices:[]}};}else{cov_11c5mfj1kr().b[1][1]++;}cov_11c5mfj1kr().s[11]++;invoices=invoices.map(obj=>{cov_11c5mfj1kr().f[2]++;// Remove owner from the array
const{owner,...rest}=(cov_11c5mfj1kr().s[12]++,obj);cov_11c5mfj1kr().s[13]++;other.foo(owner);cov_11c5mfj1kr().s[14]++;return rest;});cov_11c5mfj1kr().s[15]++;return{code:200,ret:{success:true,invoices:invoices}};}cov_11c5mfj1kr().s[16]++;module.exports={listTrashItems};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTFjNW1majFrciIsImFjdHVhbENvdmVyYWdlIiwib3RoZXIiLCJzIiwicmVxdWlyZSIsImF1dGgiLCJsaXN0VHJhc2hJdGVtcyIsInRva2VuIiwiZiIsInRva2VuVmFsaWRhdGlvbiIsInRva2VuSXNWYWxpZCIsInZhbGlkIiwiYiIsImNvZGUiLCJyZXQiLCJzdWNjZXNzIiwiZXJyb3IiLCJqc29uRGF0YSIsImdldEludm9pY2VEYXRhIiwiaW52b2ljZXMiLCJmaWx0ZXIiLCJpbnZvaWNlIiwib3duZXIiLCJ1c2VybmFtZSIsImxlbmd0aCIsIm1hcCIsIm9iaiIsInJlc3QiLCJmb28iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsidHJhc2guanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgb3RoZXIgPSByZXF1aXJlKFwiLi9vdGhlci5qc1wiKTtcclxuY29uc3QgYXV0aCA9IHJlcXVpcmUoXCIuL2F1dGguanNcIik7XHJcblxyXG5mdW5jdGlvbiBsaXN0VHJhc2hJdGVtcyh0b2tlbikge1xyXG4gICAgY29uc3QgdG9rZW5WYWxpZGF0aW9uID0gYXV0aC50b2tlbklzVmFsaWQodG9rZW4pO1xyXG4gICAgaWYgKCF0b2tlblZhbGlkYXRpb24udmFsaWQpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjb2RlOiA0MDEsXHJcbiAgICAgICAgICAgIHJldDoge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogXCJUb2tlbiBpcyBlbXB0eSBvciBpbnZhbGlkXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QganNvbkRhdGEgPSBvdGhlci5nZXRJbnZvaWNlRGF0YSgpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgIHJldDoge1xyXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICBpbnZvaWNlczogW11cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFRoaXMgaXMgYXNzdW1pbmcgdGhhdCB0aGUgaW52b2ljZXMgYXJlIGFwcGVuZGVkIHRvIHRoZSBlbmQgb2YgdGhlIEpTT04gYXJyYXkgYXNcclxuICAgIC8vIHRoZXkgZ2V0IGRlbGV0ZWQgc28gdGhhdCB0aGUgaW52b2ljZXMgYXJyYXkgY2FuIGJlIHJldHVybmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyXHJcbiAgICBsZXQgaW52b2ljZXMgPSBqc29uRGF0YS5maWx0ZXIoaW52b2ljZSA9PiBpbnZvaWNlLm93bmVyID09PSB0b2tlblZhbGlkYXRpb24udXNlcm5hbWUpO1xyXG4gICAgaWYgKGludm9pY2VzLmxlbmd0aCgpID09IDApIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgIHJldDoge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGludm9pY2VzOiBbXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuXHJcbiAgICBpbnZvaWNlcyA9IGludm9pY2VzLm1hcChvYmogPT4ge1xyXG4gICAgICAgIC8vIFJlbW92ZSBvd25lciBmcm9tIHRoZSBhcnJheVxyXG4gICAgICAgIGNvbnN0IHsgb3duZXIsIC4uLnJlc3QgfSA9IG9iajtcclxuICAgICAgICBvdGhlci5mb28ob3duZXIpO1xyXG4gICAgICAgIHJldHVybiByZXN0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgcmV0OiB7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgIGludm9pY2VzOiBpbnZvaWNlc1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyBsaXN0VHJhc2hJdGVtcyB9O1xyXG4iXSwibWFwcGluZ3MiOiIrL0VBZVk7QUFBQUEsY0FBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxjQUFBLEdBZlosS0FBTSxDQUFBRSxLQUFLLEVBQUFGLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsWUFBWSxDQUFDLEVBQ25DLEtBQU0sQ0FBQUMsSUFBSSxFQUFBTCxjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQyxFQUVqQyxRQUFTLENBQUFFLGNBQWNBLENBQUNDLEtBQUssQ0FBRSxDQUFBUCxjQUFBLEdBQUFRLENBQUEsTUFDM0IsS0FBTSxDQUFBQyxlQUFlLEVBQUFULGNBQUEsR0FBQUcsQ0FBQSxNQUFHRSxJQUFJLENBQUNLLFlBQVksQ0FBQ0gsS0FBSyxDQUFDLEVBQUNQLGNBQUEsR0FBQUcsQ0FBQSxNQUNqRCxHQUFJLENBQUNNLGVBQWUsQ0FBQ0UsS0FBSyxDQUFFLENBQUFYLGNBQUEsR0FBQVksQ0FBQSxTQUFBWixjQUFBLEdBQUFHLENBQUEsTUFDeEIsTUFBTyxDQUNIVSxJQUFJLENBQUUsR0FBRyxDQUNUQyxHQUFHLENBQUUsQ0FDREMsT0FBTyxDQUFFLEtBQUssQ0FDZEMsS0FBSyxDQUFFLDJCQUNYLENBQ0osQ0FBQyxDQUNMLENBQUMsS0FBQWhCLGNBQUEsR0FBQVksQ0FBQSxVQUVELEtBQU0sQ0FBQUssUUFBUSxFQUFBakIsY0FBQSxHQUFBRyxDQUFBLE1BQUdELEtBQUssQ0FBQ2dCLGNBQWMsQ0FBQyxDQUFDLEVBQUNsQixjQUFBLEdBQUFHLENBQUEsTUFFeEMsTUFBTyxDQUNIVSxJQUFJLENBQUUsR0FBRyxDQUNUQyxHQUFHLENBQUUsQ0FDREMsT0FBTyxDQUFFLElBQUksQ0FDYkksUUFBUSxDQUFFLEVBQ2QsQ0FDSixDQUFDLENBRUQ7QUFDQTtBQUNBLEdBQUksQ0FBQUEsUUFBUSxFQUFBbkIsY0FBQSxHQUFBRyxDQUFBLE1BQUdjLFFBQVEsQ0FBQ0csTUFBTSxDQUFDQyxPQUFPLEVBQUksQ0FBQXJCLGNBQUEsR0FBQVEsQ0FBQSxNQUFBUixjQUFBLEdBQUFHLENBQUEsYUFBQWtCLE9BQU8sQ0FBQ0MsS0FBSyxHQUFLYixlQUFlLENBQUNjLFFBQVEsQ0FBRCxDQUFDLENBQUMsRUFBQ3ZCLGNBQUEsR0FBQUcsQ0FBQSxNQUN0RixHQUFJZ0IsUUFBUSxDQUFDSyxNQUFNLENBQUMsQ0FBQyxFQUFJLENBQUMsQ0FBRSxDQUFBeEIsY0FBQSxHQUFBWSxDQUFBLFNBQUFaLGNBQUEsR0FBQUcsQ0FBQSxPQUN4QixNQUFPLENBQ0hVLElBQUksQ0FBRSxHQUFHLENBQ1RDLEdBQUcsQ0FBRSxDQUNEQyxPQUFPLENBQUUsSUFBSSxDQUNiSSxRQUFRLENBQUUsRUFDZCxDQUNKLENBQUMsQ0FDTCxDQUFDLEtBQUFuQixjQUFBLEdBQUFZLENBQUEsVUFBQVosY0FBQSxHQUFBRyxDQUFBLE9BSURnQixRQUFRLENBQUdBLFFBQVEsQ0FBQ00sR0FBRyxDQUFDQyxHQUFHLEVBQUksQ0FBQTFCLGNBQUEsR0FBQVEsQ0FBQSxNQUMzQjtBQUNBLEtBQU0sQ0FBRWMsS0FBSyxDQUFFLEdBQUdLLElBQUssQ0FBQyxFQUFBM0IsY0FBQSxHQUFBRyxDQUFBLE9BQUd1QixHQUFHLEVBQUMxQixjQUFBLEdBQUFHLENBQUEsT0FDL0JELEtBQUssQ0FBQzBCLEdBQUcsQ0FBQ04sS0FBSyxDQUFDLENBQUN0QixjQUFBLEdBQUFHLENBQUEsT0FDakIsTUFBTyxDQUFBd0IsSUFBSSxDQUNmLENBQUMsQ0FBQyxDQUFDM0IsY0FBQSxHQUFBRyxDQUFBLE9BRUgsTUFBTyxDQUNIVSxJQUFJLENBQUUsR0FBRyxDQUNUQyxHQUFHLENBQUUsQ0FDREMsT0FBTyxDQUFFLElBQUksQ0FDYkksUUFBUSxDQUFFQSxRQUNkLENBQ0osQ0FBQyxDQUNMLENBQUNuQixjQUFBLEdBQUFHLENBQUEsT0FFRDBCLE1BQU0sQ0FBQ0MsT0FBTyxDQUFHLENBQUV4QixjQUFlLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=