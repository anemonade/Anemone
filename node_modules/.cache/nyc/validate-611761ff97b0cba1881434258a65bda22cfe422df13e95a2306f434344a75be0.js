function cov_1kcefrenao(){var path="C:\\Users\\Ronald\\Desktop\\UNSW\\Y2T1\\SENG2021\\Anemone\\src\\main\\server\\validate.js";var hash="6bd6cd60e708703a469c023eee80019d4b8b47dd";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Ronald\\Desktop\\UNSW\\Y2T1\\SENG2021\\Anemone\\src\\main\\server\\validate.js",statementMap:{"0":{start:{line:1,column:16},end:{line:1,column:36}},"1":{start:{line:2,column:19},end:{line:2,column:45}},"2":{start:{line:8,column:21},end:{line:8,column:55}},"3":{start:{line:10,column:4},end:{line:21,column:5}},"4":{start:{line:11,column:8},end:{line:13,column:10}},"5":{start:{line:15,column:24},end:{line:18,column:23}},"6":{start:{line:20,column:8},end:{line:20,column:28}},"7":{start:{line:24,column:0},end:{line:24,column:38}}},fnMap:{"0":{name:"invoiceValidation",decl:{start:{line:6,column:15},end:{line:6,column:32}},loc:{start:{line:6,column:39},end:{line:22,column:1}},line:6}},branchMap:{"0":{loc:{start:{line:10,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:21,column:5}},{start:{line:10,column:4},end:{line:21,column:5}}],line:10}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6bd6cd60e708703a469c023eee80019d4b8b47dd"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1kcefrenao=function(){return actualCoverage;};}return actualCoverage;}cov_1kcefrenao();const request=(cov_1kcefrenao().s[0]++,require("supertest"));const validation=(cov_1kcefrenao().s[1]++,"https://sandc.vercel.app");// Helper function for invoice validation
// Parameter file must be a string, and a string only
async function invoiceValidation(file){cov_1kcefrenao().f[0]++;// Check their server is online
const response=(cov_1kcefrenao().s[2]++,await request(validation).get("/"));cov_1kcefrenao().s[3]++;if(response.status!==200){cov_1kcefrenao().b[0][0]++;cov_1kcefrenao().s[4]++;return{error:"validation server is offline"};}else{cov_1kcefrenao().b[0][1]++;const invoice=(cov_1kcefrenao().s[5]++,await request(validation).post("/validate").set("Content-Type","application/xml").send(file));// Returns relevant information
cov_1kcefrenao().s[6]++;return invoice.body;}}cov_1kcefrenao().s[7]++;module.exports={invoiceValidation};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWtjZWZyZW5hbyIsImFjdHVhbENvdmVyYWdlIiwicmVxdWVzdCIsInMiLCJyZXF1aXJlIiwidmFsaWRhdGlvbiIsImludm9pY2VWYWxpZGF0aW9uIiwiZmlsZSIsImYiLCJyZXNwb25zZSIsImdldCIsInN0YXR1cyIsImIiLCJlcnJvciIsImludm9pY2UiLCJwb3N0Iiwic2V0Iiwic2VuZCIsImJvZHkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsidmFsaWRhdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoXCJzdXBlcnRlc3RcIik7XHJcbmNvbnN0IHZhbGlkYXRpb24gPSBcImh0dHBzOi8vc2FuZGMudmVyY2VsLmFwcFwiO1xyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9uIGZvciBpbnZvaWNlIHZhbGlkYXRpb25cclxuLy8gUGFyYW1ldGVyIGZpbGUgbXVzdCBiZSBhIHN0cmluZywgYW5kIGEgc3RyaW5nIG9ubHlcclxuYXN5bmMgZnVuY3Rpb24gaW52b2ljZVZhbGlkYXRpb24oZmlsZSkge1xyXG4gICAgLy8gQ2hlY2sgdGhlaXIgc2VydmVyIGlzIG9ubGluZVxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KHZhbGlkYXRpb24pLmdldChcIi9cIik7XHJcblxyXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwICkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGVycm9yOiBcInZhbGlkYXRpb24gc2VydmVyIGlzIG9mZmxpbmVcIlxyXG4gICAgICAgIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGludm9pY2UgPSBhd2FpdCByZXF1ZXN0KHZhbGlkYXRpb24pXHJcbiAgICAgICAgICAgIC5wb3N0KFwiL3ZhbGlkYXRlXCIpXHJcbiAgICAgICAgICAgIC5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi94bWxcIilcclxuICAgICAgICAgICAgLnNlbmQoZmlsZSlcclxuICAgICAgICAvLyBSZXR1cm5zIHJlbGV2YW50IGluZm9ybWF0aW9uXHJcbiAgICAgICAgcmV0dXJuIGludm9pY2UuYm9keTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7IGludm9pY2VWYWxpZGF0aW9uIH0iXSwibWFwcGluZ3MiOiJrK0NBZVk7QUFBQUEsY0FBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxjQUFBLEdBZlosS0FBTSxDQUFBRSxPQUFPLEVBQUFGLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQ3BDLEtBQU0sQ0FBQUMsVUFBVSxFQUFBTCxjQUFBLEdBQUFHLENBQUEsTUFBRywwQkFBMEIsRUFFN0M7QUFDQTtBQUNBLGNBQWUsQ0FBQUcsaUJBQWlCQSxDQUFDQyxJQUFJLENBQUUsQ0FBQVAsY0FBQSxHQUFBUSxDQUFBLE1BQ25DO0FBQ0EsS0FBTSxDQUFBQyxRQUFRLEVBQUFULGNBQUEsR0FBQUcsQ0FBQSxNQUFHLEtBQU0sQ0FBQUQsT0FBTyxDQUFDRyxVQUFVLENBQUMsQ0FBQ0ssR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFDVixjQUFBLEdBQUFHLENBQUEsTUFFcEQsR0FBSU0sUUFBUSxDQUFDRSxNQUFNLEdBQUssR0FBRyxDQUFHLENBQUFYLGNBQUEsR0FBQVksQ0FBQSxTQUFBWixjQUFBLEdBQUFHLENBQUEsTUFDMUIsTUFBTyxDQUNIVSxLQUFLLENBQUUsOEJBQ1gsQ0FBQyxDQUNMLENBQUMsSUFBTSxDQUFBYixjQUFBLEdBQUFZLENBQUEsU0FDSCxLQUFNLENBQUFFLE9BQU8sRUFBQWQsY0FBQSxHQUFBRyxDQUFBLE1BQUcsS0FBTSxDQUFBRCxPQUFPLENBQUNHLFVBQVUsQ0FBQyxDQUNwQ1UsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUNqQkMsR0FBRyxDQUFDLGNBQWMsQ0FBRSxpQkFBaUIsQ0FBQyxDQUN0Q0MsSUFBSSxDQUFDVixJQUFJLENBQUMsRUFDZjtBQUFBUCxjQUFBLEdBQUFHLENBQUEsTUFDQSxNQUFPLENBQUFXLE9BQU8sQ0FBQ0ksSUFBSSxDQUN2QixDQUNKLENBQUNsQixjQUFBLEdBQUFHLENBQUEsTUFFRGdCLE1BQU0sQ0FBQ0MsT0FBTyxDQUFHLENBQUVkLGlCQUFrQixDQUFDIiwiaWdub3JlTGlzdCI6W119